<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Geographic data mining and visualisation for beginners - Overpass turbo tutorial by Mateusz Konieczny</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css" />
    <style></style>
  </head>
  <body>
<div id="main_content_wrap" class="outer">
<section id="main_content" class="inner">
<h1>Geographic data mining and visualisation for beginners - Overpass turbo tutorial</h1>
<h2>Introduction</h2>

<p>OpenStreetMap is a Wikipedia of maps. It is a massive geographic database collected by hobbyists and this data may be used by anybody.</p>

<p>It has mapped roads, buildings, parks, shops, forests, nature reserves, universities, police stations, beaches, prisons, geysers, reefs, hospitals, administrative borders, caves, lighthouses and many more.</p>

<p>This data is available in full for free under a friedly ODbL license. It is possible to use this data for variety of projects. For example image below is a 3D printed map for blind based on OpenStreetMap data.</p>

<a href="https://wiki.openstreetmap.org/wiki/File:Touch_Mapper_Kartta_kasissa.jpg"><img src="../3D-printed-map-from-OpenStreetMap-data-cc-by-license-photo-by-Samuli-Kärkkäinen-the-creator-of-Touch-Mapper.jpeg" /></a>

<p>Easiest way to explore data collected by OSM users is to look at one of generated maps. You can do it by visiting <a target="_blank" href="https://www.openstreetmap.org/">openstreetmap.org</a> and looking around.</p>

<p>Default map at that page displays small part of data collected by the OpenStreetMap contributors. Depending on region various features should be visible - roads, rivers, railways, forests, buildings, shops, peaks, lakes, cemeteries, caves, hospitals, paths, springs and many more.</p>

<img src="Isle-of-Man.png" />

<p>But using specific map designed by someone else is just start of using OpenStreetMap power. It is possible to extract specific data. For example oney may want to get</p>
<ol>
  <li>museums</li>
  <li>playgrounds</li>
  <li>glaciers</li>
  <li>wetlands</li>
  <li>volcanoes</li>
  <li>geometry of a specific motorway</li>
  <li>or all data at once</li>
</ol>
<p>on this page I will present my favourite method to do that - a tool called Overpass turbo.</p>

<h2>Exercise 1 - museums</h2>
<p>Let's open <a target="_blank" href="http://overpass-turbo.eu/s/zMg">the first query</a>. It should show page with map on the right and panel with mysterious text on the left. Ignore gibberish on the left and wait for the query to complete. Within seconds museums in Kraków should be marked on the map.</p>

<h2>Exercise 2 - playgrounds</h2>
<p>Now lets try something else - public playgrounds in Hamm -  <a target="_blank" href="http://overpass-turbo.eu/s/zMi">follow this link</a> to try this query.</p>

<img src="Hamm-playgrounds.png" />

<h2>Exercise 3 - everything</h2>
<p>Maybe you just want to grab all data from given area and download it? And do entire processing and filtering in other tool like QGIS?  Or just look at all what is mapped? Next query will show all data within specified area. Note that this data is a direct copy of OpenStreetMap database so you will need some help in interpreting the data. Next sections should help with that.</p>

<p>So now <a target="_blank" href="http://overpass-turbo.eu/s/zMQ">a query to get everything</a>.</p>

<img src="Kampong_Ayer-everything.png" />

<p>I just mentioned that this query will get everything. Fortunately, it is not true. It will get everything within area visible in your map view. You can pan around to see that objects not inside this area are not downloaded. After moving map to a different location and select "run" button on top-left to see results of query in a different location.</p>

<p>So far all presented querries take into account part of the map visible on the screen. But avoid zooming out to much - large areas like entire cities have to much data to display at once.</p>

<p>Filtering is necessary to display data for larger area - attempt to download all data at once would not succeded. OSM database crossed 500 GB<!--https://munin.openstreetmap.org/postgresql-year.html--> long time ago, displaying all of it is a complicated task that requires more specialized tools than a web browser.</p>

<p>Querries that filter data (like ones presented before "get everything" query) will work for much bigger areas, some may even allow to scan entire world and display all objects matching filter!</p>

<p>But before trying our luck with worldwide querries (it requires using left panel, so lets ignore it for now) lets try a different adventure.</p>

<h2>Exercise 4 - glaciers</h2>

<p>Now you will make a new query.</p>

<p>Lets say that we want to query for glaciers.</p>
<ol>
<li> Go to <a target="_blank" href="http://overpass-turbo.eu/s/zWt">http://overpass-turbo.eu/s/zWt</a> (this link places you to Himalayas so looking for place with glaciers is not necessary). </li>
<li>Press "Wizard" button on the top menu. A window should appear </li>
<li>Into box type: natural=glacier</li>
<li>Press 'build and run query'</li>
<li>you should see marked areas representing glaciers!</li>
<li>Congratulations!</li>
</ol>
<img src="Nepal-glaciers.png" />

<h2>Exercise 5 - wetlands</h2>

<p>Previous examples maybe were interesting but covered only a small group of examples.</p>

<p>How one is supposed to guess what should be used to display wetland areas? Or univerities? Or prisons? Or other feature among thousands possible?</p>

<p>Fortunately guessing is not necessary. There is a projects documenting how tags are used and it is called OSM Wiki. Let's say that we want to display wetlands. In that case we should try googling &lt;<a target="_blank" href="https://duckduckgo.com/?q=wetland+OSM+Wiki">wetland OSM Wiki</a>&gt;</p>
<img src="wetland-search-results.png" /> 
<p>Results should include <a target="_blank" href="https://wiki.openstreetmap.org/wiki/Tag:natural%3Dwetland">page describing wetlands</a> as one of results.</p>

<p>This page has description that describes that natural=wetland is used to tag wetlands.</p>


<p>So we want to hunt for wetlands.</p>
<ol>
<li> Go to <a target="_blank" href="http://overpass-turbo.eu/s/zNS">http://overpass-turbo.eu/s/zNS</a> (this link places you at a specific area). </li>
<li>Press "Wizard" button on the top menu. A window should appear </li>
<li>Into box type: natural=wetland</li>
<li>Press 'build and run query'</li>
<li>you should see marked areas representing wetlands!</li>
<li>Congratulations!</li>
</ol>

<h2>Exercise 6 - volcanoes</h2>
<p>Now time for an exercise - try to find volcanoes: again google for something like &lt;OSM wiki volcano&gt; and use wizard to create a new query with found tag value. If you have trouble see <a target="_blank" href="volcano-solution.html">here for a help</a>.</p>

<h2>Using data (license, export)</h2>
<p>So now you can to at least some types of querries that return some data. So it is a good moment to mention how this data may be used. Basically, you are allowed to do anything with it as long as you credit OpenStreetMap and its contributors and distribute derived work on the same license. For details see <a target="_blank" href="https://www.openstreetmap.org/copyright">https://www.openstreetmap.org/copyright</a>
It will not be covered is this tutorial but you can process this data using also other software.</p>

<p>So how we may download this data as file? See button "Export". After clicking it you may select one of standard data formats. Any reasonable tool for processing geodata will support at least one.</p>

<h2>External resources</h2>
<ul>
	<li><a target="_blank" href="https://wiki.openstreetmap.org/wiki/Overpass_turbo">Overpass turbo - page on OpenStreetMap Wiki</a></li>
	<li><a target="_blank" href="https://wiki.openstreetmap.org/wiki/Overpass_turbo/Wizard">Overpass turbo - Wizard - page on OpenStreetMap Wiki</a></li>
	<li><a target="_blank" href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_API_by_Example">Overpass turbo examples - page on OpenStreetMap Wiki</a></li>
	<li><a target="_blank" href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL">Overpass API - full documentation of query syntax. Opposite approach to this tutorial - page on OpenStreetMap Wiki</a></li>
</ul>


<h2>To be continued?</h2>

<p>At least for now tutorial ends here. If you want more - send mail to matkoniecz@gmail.com, it is likely result in contiinued work on this page.</p>

<h3>Status</h3>
<p>Status: unfinished draft that is actively updated (as of June 2018).</p>

<p>Published part is unfinished and ends abruptly. But it is supposed to be free from mistakes, typos, unclear text, missing explanations, grammar problems etc. Please sent mail to matkoniecz@gmail.com if you spot anything wrong!</p>

<p>Please also send email if any part is unclear - this page is supposed to be easy to follow for everybody, with no required OpenStreetMap or programming knowledge.</p>

<p>Feel free to send mail also if this page was useful for you :)</p>

<h2>Exercise 7 - specific motorway</h2>

<p>See above</p>
      </section>
    </div>
  </body>
</html>